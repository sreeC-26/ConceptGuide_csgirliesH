# ConceptGuide - Step-by-Step Setup & Testing Guide

## ğŸ“ Where to Create .env File

Create the `.env` file in the **root directory** of the project (same level as `package.json` and `server.js`).

```
csgirlies/
â”œâ”€â”€ .env              â† Create here
â”œâ”€â”€ package.json
â”œâ”€â”€ server.js
â”œâ”€â”€ src/
â””â”€â”€ ...
```

## ğŸ”‘ Step 1: Get Your API Keys

### Gemini API Key (for question generation):
1. Go to [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy your API key

### Voice Transcription:
- **No API key needed!** Voice transcription uses the browser's built-in Web Speech API (completely free)
- Works in Chrome, Edge, and Safari browsers
- No backend required for voice transcription

## ğŸ“ Step 2: Create .env File

1. In the root directory (`c:\csgirlies`), create a file named `.env`
2. Add the following content:

```env
GEMINI_API_KEY=your_actual_gemini_api_key_here
PORT=3001
```

**Important:** 
- Replace `your_actual_gemini_api_key_here` with your actual Gemini API key from Step 1
- **No OpenAI API key needed** - voice transcription is free and browser-based!

## ğŸ“¦ Step 3: Install Dependencies

Open a terminal in the project directory and run:

```bash
npm install
```

This will install all required packages (React, Vite, Tailwind, pdfjs-dist, Zustand, Express, etc.)

## ğŸš€ Step 4: Start the Backend Server

Open a **new terminal window** (keep it open) and run:

```bash
npm run server
```

You should see:
```
Server running on http://localhost:3001
```

**Keep this terminal open** - the server needs to keep running.

## ğŸ¨ Step 5: Start the Frontend

Open **another new terminal window** and run:

```bash
npm run dev
```

You should see:
```
  VITE v7.x.x  ready in xxx ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
```

The app will automatically open in your browser at `http://localhost:5173`

## âœ… Step 6: Test the Application

### Test 1: PDF Upload
1. In the browser, you should see an upload area
2. **Option A:** Drag and drop a PDF file onto the upload area
3. **Option B:** Click "Choose File" and select a PDF
4. The PDF should load and display with pages

### Test 2: Text Selection & Confusion Button
1. Scroll down to see the text content below each PDF page
2. **Select some text** by clicking and dragging
3. A button should appear saying "I'm confused about this"
4. Click the button

### Test 3: Question Ladder
1. After clicking the confusion button, a modal should appear
2. You should see "Question 1 of 5" with a progress bar
3. A question should be displayed (generated by Gemini API)
4. Type an answer in the textarea
5. Click "Next" to proceed to the next question
6. Repeat for all 5 questions

### Test 4: Voice Recording (Optional)
1. In the question modal, click "Start Recording"
2. Allow microphone permissions if prompted
3. Speak your answer
4. Click "Stop Recording" (or it will stop automatically)
5. Your speech should be transcribed into the textarea
6. You can edit the transcribed text before submitting

### Test 5: Submit & Integration
1. After answering all 5 questions, click "Submit" on the last question
2. The modal should close
3. You should see the Person2Integration component with all Q&A data displayed

## ğŸ” Troubleshooting

### Backend Server Issues

**Problem:** `Server running on http://localhost:3001` doesn't appear
- **Solution:** Check if port 3001 is already in use
- Try changing `PORT=3002` in `.env` and restart the server

**Problem:** "GEMINI_API_KEY is not defined"
- **Solution:** Make sure `.env` file exists in the root directory
- Check that the Gemini API key is correctly set (no quotes, no spaces)
- Restart the server after creating/updating `.env`

**Problem:** "Failed to generate questions"
- **Solution:** Check your Gemini API key is valid
- Check your internet connection
- The app will fallback to sample questions if the API fails

### Frontend Issues

**Problem:** App doesn't load in browser
- **Solution:** Make sure you ran `npm run dev` in a separate terminal
- Check the terminal for error messages
- Try accessing `http://localhost:5173` directly

**Problem:** PDF doesn't upload
- **Solution:** Make sure you're uploading a valid PDF file
- Check browser console for errors (F12 â†’ Console tab)

**Problem:** Text selection doesn't work
- **Solution:** Make sure you're selecting text from the gray text boxes below the PDF images
- The text content is rendered below each page for selection

**Problem:** Voice recording doesn't work
- **Solution:** Make sure microphone permissions are granted
- Use Chrome, Edge, or Safari browser (Web Speech API support)
- Check browser console for errors
- You can still type answers manually if voice recording fails
- **Note:** Voice transcription works in the browser, no backend needed!

### API Issues

**Problem:** Questions are sample questions instead of AI-generated
- **Solution:** Check backend terminal for error messages
- Verify your Gemini API key is correct in `.env`
- Check that the backend server is running
- The app falls back to sample questions if the API fails

## ğŸ“Š Expected Behavior

### Normal Flow:
1. âœ… Upload PDF â†’ PDF displays with pages
2. âœ… Select text â†’ Confusion button appears
3. âœ… Click button â†’ Modal opens with Question 1
4. âœ… Answer questions â†’ Progress bar updates
5. âœ… Submit â†’ Person2Integration component shows

### API Integration:
- **Question Generation:** Uses Gemini API (`/api/generate-questions`)
- **Voice Transcription:** Uses Web Speech API (browser-based, completely free, no API keys needed)
- **Only Gemini Required:** Only need Gemini API key for question generation

## ğŸ›‘ Stopping the Servers

To stop the servers:
1. Go to each terminal window
2. Press `Ctrl + C` (Windows/Linux) or `Cmd + C` (Mac)
3. Confirm if prompted

## ğŸ“ Notes

- **Two terminals needed:** One for backend (`npm run server`), one for frontend (`npm run dev`)
- **.env file location:** Must be in root directory (`c:\csgirlies\.env`)
- **API keys required:** Only Gemini API key needed
- **API fallback:** If Gemini API fails, sample questions are used automatically
- **Voice transcription:** Completely free, uses browser's Web Speech API (no API keys needed)

## ğŸ¯ Quick Start Checklist

- [ ] Created `.env` file in root directory
- [ ] Added Gemini API key to `.env`
- [ ] Ran `npm install`
- [ ] Started backend: `npm run server` (Terminal 1)
- [ ] Started frontend: `npm run dev` (Terminal 2)
- [ ] Opened browser to `http://localhost:5173`
- [ ] Tested PDF upload
- [ ] Tested text selection
- [ ] Tested question answering
- [ ] Verified integration point

---

**Need Help?** Check the browser console (F12) and backend terminal for error messages.

